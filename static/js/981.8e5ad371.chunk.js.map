{"version":3,"file":"static/js/981.8e5ad371.chunk.js","mappings":"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","sources":["components/Loader.jsx","components/defaultImg.js","components/linkStyled.js","fetchAPI.js","webpack://react-homework-template/./src/components/SearchBox/SearchBox.module.css?45fa","components/SearchBox/SearchBox.jsx","pages/Movies/Movies.jsx","pages/Movies/MoviesList.jsx"],"sourcesContent":["import React from 'react';\nimport { Bars } from 'react-loader-spinner';\n\nexport const Loader = () => (\n  <div>\n    <Bars\n      height=\"80\"\n      width=\"80\"\n      color=\"#4fa94d\"\n      ariaLabel=\"bars-loading\"\n      wrapperStyle={{}}\n      wrapperClass=\"\"\n      visible={true}\n    />\n  </div>\n);\n","export const defaultImg =\n  'https://img.freepik.com/premium-vector/default-image-icon-vector-missing-picture-page-for-website-design-or-mobile-app-no-photo-available_87543-11093.jpg?w=500';\n","import { NavLink } from 'react-router-dom';\nimport styled from 'styled-components';\n\nexport const StyledLink = styled(NavLink)`\n  text-decoration: none;\n  padding: 10px;\n  color: black;\n  font-weight: 600;\n  font-size: 20px;\n  line-height: 1.5;\n\n  &.active {\n    color: blue;\n  }\n\n  &:hover {\n    text-decoration: underline;\n  }\n`;\n\nexport const StyledLinkList = styled(NavLink)`\n  text-decoration: none;\n  padding: 10px;\n  color: white;\n\n  &.active {\n    color: blue;\n  }\n\n  &:hover {\n    text-decoration: underline;\n  }\n`;\n","import axios from 'axios';\n\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\nconst API_KEY = '89edb74d1265dc897c6847b5fd279c44';\n\nexport async function fetchMovies(endpoint) {\n  const params = new URLSearchParams({\n    api_key: API_KEY,\n  });\n\n  const response = await axios.get(endpoint, {\n    params,\n  });\n  return response.data;\n}\n\nexport async function fetchSearchMovies(endpoint, query, controller) {\n  const params = new URLSearchParams({\n    query: query,\n    api_key: API_KEY,\n  });\n\n  const response = await axios.get(\n    endpoint,\n    {\n      params,\n    },\n    {\n      signal: controller.current.signal,\n    }\n  );\n\n  return response.data;\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"search_form\":\"SearchBox_search_form__1cAqr\",\"search_button\":\"SearchBox_search_button__65-ZS\",\"searchForm-button-label\":\"SearchBox_searchForm-button-label__eL53r\",\"search_input\":\"SearchBox_search_input__KtSG8\"};","import React, { useState } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport { BiSearch } from 'react-icons/bi';\nimport css from './SearchBox.module.css';\n\nconst SearchBox = ({ onSubmit }) => {\n  const [searchParams] = useSearchParams();\n  const [query, setQuery] = useState(searchParams.get('query') ?? '');\n\n  const handleChange = e => {\n    setQuery(e.target.value);\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    onSubmit(query);\n  };\n\n  const handleInputFocus = evt => {\n    evt.target.value = '';\n  };\n\n  return (\n    <form onSubmit={handleSubmit} className={css.search_form}>\n      <input\n        className={css.search_input}\n        type=\"text\"\n        placeholder=\"Enter a movie title\"\n        name=\"query\"\n        value={query}\n        onChange={handleChange}\n        onFocus={handleInputFocus}\n      />\n      <button type=\"submit\" className=\"search_button\">\n        <BiSearch size={25} />\n      </button>\n    </form>\n  );\n};\n\nexport default SearchBox;\n","import React, { useState, useEffect, useRef } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport toast, { Toaster } from 'react-hot-toast';\nimport { fetchSearchMovies } from 'fetchAPI';\nimport { Loader } from 'components/Loader';\nimport MoviesList from './MoviesList';\nimport SearchBox from 'components/SearchBox/SearchBox';\n\nconst Movies = () => {\n  const [movies, setMovies] = useState([]);\n  const [searchParams, setSearchParams] = useSearchParams();\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(false);\n  const controller = useRef();\n  const query = searchParams.get('query') ?? '';\n\n  useEffect(() => {\n    if (query !== '') {\n      if (controller.current) {\n        controller.current.abort();\n      }\n      controller.current = new AbortController();\n\n      const fetchMovies = async () => {\n        try {\n          setLoading(true);\n          setError(false);\n          const movies = await fetchSearchMovies(\n            `/search/movie`,\n            query,\n            controller\n          );\n          setMovies(movies.results);\n          if (!movies.results.length) {\n            toast.error(\n              'not found any movies of your search, please change your request and try again',\n              { duration: 5000 }\n            );\n            return;\n          }\n        } catch (error) {\n          if (error.code !== 'ERR_CANCELED') {\n            setError(true);\n          }\n        } finally {\n          setLoading(false);\n        }\n      };\n      fetchMovies();\n    } else {\n      setMovies([]);\n    }\n  }, [query, searchParams]);\n\n  const handleSearchSubmit = value => {\n    const movieSearch = value.trim();\n    if (movieSearch !== '') {\n      setSearchParams({ query: value });\n    } else {\n      toast('Please enter your query', {\n        duration: 2000,\n        position: 'top-center',\n      });\n    }\n  };\n\n  return (\n    <div>\n      {error &&\n        !loading &&\n        toast.error('Something went wrong, please try reloading the page', {\n          duration: 5000,\n        })}\n      <SearchBox onSubmit={handleSearchSubmit} />\n      {loading ? <Loader /> : <MoviesList movies={movies} />}\n      <Toaster position=\"top-right\" />\n    </div>\n  );\n};\n\nexport default Movies;\n","import { StyledLinkList } from '../../components/linkStyled';\nimport { useLocation } from 'react-router-dom';\nimport Card from 'react-bootstrap/Card';\nimport Row from 'react-bootstrap/Row';\nimport { defaultImg } from 'components/defaultImg';\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nconst MoviesList = ({ movies }) => {\n  const location = useLocation();\n  return (\n    <Row className=\"container-fluid d-flex justify-content-evenly\">\n      {movies.map(movie => (\n        <Card\n          style={{ width: '14rem' }}\n          key={movie.id}\n          className=\"p-0 m-2 bg-transparent border border-white\"\n        >\n          <Card.Img\n            variant=\"top\"\n            src={\n              movie.poster_path\n                ? `https://image.tmdb.org/t/p/w500/${movie.poster_path}`\n                : defaultImg\n            }\n           \n            width={100}\n            height={300}\n          />\n          <Card.Body className=\"p-1\">\n            <Card.Title className=\"text-center\">\n              <StyledLinkList\n                to={`/movies/${movie.id}`}\n                state={{ from: location }}\n              >\n                {movie.title || movie.name || movie.original_title}\n              </StyledLinkList>\n            </Card.Title>\n          </Card.Body>\n        </Card>\n      ))}\n    </Row>\n  );\n};\n\nexport default MoviesList;\n"],"names":["Loader","_jsx","children","Bars","height","width","color","ariaLabel","wrapperStyle","wrapperClass","visible","defaultImg","StyledLink","styled","NavLink","_templateObject","_taggedTemplateLiteral","StyledLinkList","_templateObject2","axios","API_KEY","fetchMovies","_x","_fetchMovies","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","endpoint","params","response","wrap","_context","prev","next","URLSearchParams","api_key","sent","abrupt","data","stop","fetchSearchMovies","_x2","_x3","_x4","_fetchSearchMovies","_callee2","query","controller","_context2","signal","current","_ref","_searchParams$get","onSubmit","_useSearchParams","useSearchParams","searchParams","_slicedToArray","_useState","useState","get","_useState2","setQuery","_jsxs","e","preventDefault","className","css","type","placeholder","name","value","onChange","target","onFocus","evt","BiSearch","size","movies","setMovies","_useSearchParams2","setSearchParams","_useState3","_useState4","loading","setLoading","_useState5","_useState6","error","setError","useRef","useEffect","abort","AbortController","_movies","results","length","toast","duration","t0","code","finish","SearchBox","trim","position","MoviesList","Toaster","location","useLocation","Row","map","movie","Card","style","variant","src","poster_path","concat","to","id","state","from","title","original_title"],"sourceRoot":""}